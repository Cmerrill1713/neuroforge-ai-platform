{
  "id": "github_973736537",
  "title": "claude-code-is-programmable",
  "description": "Scale your compute with Claude Code as a programmable agentic coding tool ",
  "url": "https://github.com/disler/claude-code-is-programmable",
  "language": "Python",
  "stars": 254,
  "forks": 86,
  "created_at": "2025-04-27T16:23:07Z",
  "updated_at": "2025-09-26T07:13:30Z",
  "topics": [],
  "readme_content": "# Claude Code is Programmable\n\nThis repository demonstrates how to use Claude Code programmatically, showcasing examples in different programming languages. Watch [this video](https://youtu.be/2TIXl2rlA6Q) to understand why this is so important for next generation engineering. Check out the [voice to Claude Code](https://youtu.be/LvkZuY7rJOM) video to see how to use the `voice_to_claude_code.py` script.\n\n<img src=\"images/voice-to-claude-code.png\" alt=\"Voice to Claude Code\" width=\"800\">\n\n<img src=\"images/programmable-agentic-coding.png\" alt=\"Claude Code is Programmable\" width=\"800\">\n\n## Quick Start\n\nFirst off - run these right away to understand how important this is:\n\n```bash\n# Claude Code example (with only Write and Edit tools allowed)\nclaude -p \"make a hello.js script that prints hello\" --allowedTools \"Write\" \"Edit\"\n\n# Aider equivalent example\naider --message \"make a hello.js script that prints hello\" hello.js\n```\n\nHere's the big trick - with Claude Code, you can call ANY TOOL IN ANY ORDER IN NATURAL LANGUAGE.\n\nCheck out the other examples in the repo to understand how to scale your impact with this feature.\n\nWatch [this video](https://youtu.be/2TIXl2rlA6Q) to internalize how important this is for next generation engineering. View the brief anthropic documentation [here](https://docs.anthropic.com/en/docs/agents-and-tools/claude-code/tutorials#use-claude-as-a-unix-style-utility) and a more comprehensive write up on [agentic coding here](https://www.anthropic.com/engineering/claude-code-best-practices). The Claude Code team is doing incredible work.\n\nYou can also use [Aider](https://aider.chat/) as a programmable ai coding tool to do similar things although it's strictly limited to AI Coding (which is still incredibly useful). Check out the documentation [here](https://aider.chat/docs/scripting.html).\n\n## Setup\n\n### Configuration Files\n\n1. **MCP (Multi-call Protocol) Configuration**\n   - Copy the sample configuration file to create your own:\n     ```bash\n     cp .mcp.sample.json .mcp.json\n     ```\n   - Edit `.mcp.json` to add your Notion API key in the `OPENAPI_MCP_HEADERS` section:\n     ```json\n     {\n       \"mcpServers\": {\n         \"notionApi\": {\n           \"command\": \"npx\",\n           \"args\": [\"-y\", \"@notionhq/notion-mcp-server\"],\n           \"env\": {\n             \"OPENAPI_MCP_HEADERS\": \"{\\\"Authorization\\\": \\\"Bearer YOUR_NOTION_API_KEY\\\", \\\"Notion-Version\\\": \\\"2022-06-28\\\" }\"\n           }\n         }\n       }\n     }\n     ```\n\n2. **Environment Variables**\n   - Copy the sample environment file:\n     ```bash\n     cp .env.sample .env\n     ```\n   - Add the following API keys to your `.env` file:\n     ```\n     NOTION_INTERNAL_INTEGRATION_SECRET=your_notion_integration_secret\n     ANTHROPIC_API_KEY=your_anthropic_api_key\n     OPENAI_API_KEY=your_openai_api_key\n     ```\n   - Note: The voice_to_claude_code.py script specifically requires both ANTHROPIC_API_KEY and OPENAI_API_KEY to be set.\n   - The anthropic_search.py script requires ANTHROPIC_API_KEY to be set.\n\n## File Descriptions\n\n### Shell Scripts\n- `claude_code_is_programmable_1.sh`: Simple shell script that uses Claude Code's CLI to generate a basic \"hello.js\" script with limited allowed tools.\n  ```bash\n  sh claude_code_is_programmable_1.sh\n  ```\n- `aider_is_programmable_1.sh`: Similar script using Aider to create a \"hello.js\" file.\n  ```bash\n  sh aider_is_programmable_1.sh\n  ```\n- `reset.sh`: Utility script to clean up branches and directories created by the demo scripts.\n  ```bash\n  sh reset.sh\n  ```\n\n### Python Files\n- `claude_code_is_programmable_2.py`: Python script that executes Claude Code to create a TypeScript CLI todo app, with permissions for Edit, Replace, Bash, and Create tools.\n  ```bash\n  uv run claude_code_is_programmable_2.py\n  ```\n- `claude_code_is_programmable_3.py`: Advanced Python script integrating Claude Code with Notion API for todo management, including rich console output and streaming results. Requires a Notion page name as an argument.\n  ```bash\n  uv run claude_code_is_programmable_3.py \"My Notion Page\"\n  ```\n- `aider_is_programmable_2.py`: Python script that uses Aider to create a TypeScript todo application with git operations.\n  ```bash\n  uv run aider_is_programmable_2.py\n  ```\n- `anthropic_search.py`: A self-contained Python script for searching the web using Anthropic's Claude AI with web search capabilities.\n  ```bash\n  ./anthropic_search.py \"your search query\"\n  ```\n\n### JavaScript Files\n- `claude_code_is_programmable_2.js`: JavaScript version of the Claude Code script that creates a TypeScript todo app, with permissions for Edit, Replace, Bash, and Create tools.\n  ```bash\n  bun claude_code_is_programmable_2.js\n  ```\n- `aider_is_programmable_2.js`: JavaScript version of the Aider script for creating a TypeScript todo app with git operations.\n  ```bash\n  bun aider_is_programmable_2.js\n  ```\n\n### Voice to Claude Code\n- `voice_to_claude_code.py`: A voice-enabled Claude Code assistant that allows you to interact with Claude Code using speech commands. Combines RealtimeSTT for speech recognition and OpenAI TTS for speech output.\n  ```bash\n  uv run voice_to_claude_code.py\n\n  # With a specific conversation ID\n  uv run voice_to_claude_code.py --id \"my-chat-id\"\n\n  # With an initial prompt\n  uv run voice_to_claude_code.py --prompt \"create a hello world script\"\n\n  # With both ID and prompt\n  uv run voice_to_claude_code.py --id \"my-chat-id\" --prompt \"create a hello world script\"\n  ```\n\n### Bonus Directory\n- `starter_notion_agent.py`: A starter template for creating a Notion agent using the OpenAI Agent SDK.\n  ```bash\n  uv run bonus/starter_notion_agent.py\n  ```\n- `claude_code_inside_openai_agent_sdk_4_bonus.py`: An advanced implementation that integrates Claude Code within the OpenAI Agent SDK. Requires a Notion page name as an argument.\n  ```bash\n  uv run bonus/claude_code_inside_openai_agent_sdk_4_bonus.py \"My Notion Page\"\n  ```\n\n## Core Tools Available in Claude Code\n\n- Task: Launch an agent to perform complex tasks\n- Bash: Execute bash commands in a shell\n- Batch: Run multiple tools in parallel\n- Glob: Find files matching patterns\n- Grep: Search file contents with regex\n- LS: **List** directory contents\n- Read: Read file contents\n- Edit: Make targeted edits to files\n- Write: Create or overwrite files\n- NotebookRead/Edit: Work with Jupyter notebooks\n- WebFetch: Get content from websites\n\n## Claude Code response formats\n\n```sh\nclaude -p 'hello, run git ls-files, how many files are in the current directory' --output-format text > test.txt\nclaude -p 'hello, run git ls-files, how many files are in the current directory' --output-format json > test.json\nclaude -p --continue 'hello, run git ls-files, how many files are in the current directory' --output-format stream-json > test.stream.json\n```\n\n## Anthropic Web Search Tool\n> See the [anthropic_search.py](anthropic_search.py) file for more details.\n\nA command-line utility for searching the web using Anthropic's Claude AI with their web search tool capability.\n\n### Prerequisites\n\n- Python 3.8+\n- UV package manager (`pip install uv`)\n- Anthropic API key\n\n### Setup\n\nMake the script executable:\n```\nchmod +x anthropic_search.py\n```\n\n### Usage\n\nBasic search:\n```\n./anthropic_search.py \"your search query\"\n```\n\nWith domain filtering (only include results from these domains):\n```\n./anthropic_search.py \"javascript best practices\" --domains \"developer.mozilla.org,javascript.info\"\n```\n\nBlock specific domains:\n```\n./anthropic_search.py \"climate change\" --blocked \"unreliablesource.com,fakenews.org\"\n```\n\nWith location context:\n```\n./anthropic_search.py \"local restaurants\" --location \"US,California,San Francisco\" --timezone \"America/Los_Angeles\"\n```\n\nIncrease maximum searches:\n```\n./anthropic_search.py \"complex research topic\" --max-uses 5\n```\n\nUse a different Claude model:\n```\n./anthropic_search.py \"your query\" --model \"claude-3-5-sonnet-latest\"\n```\n\n### Output\n\nThe script produces:\n1. The search query used\n2. Claude's response with inline citations marked as [1], [2], etc.\n3. A list of sources at the end, numbered to match the citations\n4. Usage information showing how many web searches were performed\n\n### Notes\n\n- Web search is available on Claude 3.7 Sonnet, Claude 3.5 Sonnet, and Claude 3.5 Haiku\n- Each search counts as one use, regardless of the number of results returned\n- Searches cost $10 per 1,000 searches, plus standard token costs for search-generated content\n- Domain filtering doesn't need https:// prefixes and automatically includes subdomains\n\nBuilt with ❤️ by [IndyDevDan](https://www.youtube.com/@indydevdan) with [Claude Code](https://docs.anthropic.com/en/docs/agents-and-tools/claude-code/overview), and [Principled AI Coding](https://agenticengineer.com/principled-ai-coding)\n\n",
  "source_type": "github_repository",
  "domain": "software_development",
  "keywords": [
    "coding"
  ],
  "retrieval_tags": [
    "github",
    "repository",
    "code",
    "development"
  ]
}